# 《Effective Java》

## 《Effective Java 中文版第2版》

**书籍内容：**

- 第1章 引言
- 第2章 创建和销毁对象
  - 第1条：考虑用静态工厂方法代替构造器
  - 第2条：遇到多个构造器参数时要考虑用构建器
  - 第3条：用私有构造器或枚举类型强化 Singleton 属性
  - 第4条：通过私有构造器强化不可实例化的能力
  - 第5条：避免创建不必要的对象
  - 第6条：消除过期的对象引用
  - 第7条：避免使用终结方法
- 第3章 对于所有对象都通用的方法
  - 覆盖 equals 时请遵守通用约定
  - 覆盖 equals 时总要覆盖 hashCode
  - 始终要覆盖 toString
  - 谨慎地覆盖 clone
  - 考虑实现 Comparable 接口
- 第4章 类和接口
  - 使类和成员的可访问性最小化
  - 在公有类中使用访问方法而非公有域
  - 使可变性最小化
  - 复合优先于继承
  - 要么为继承而设计，并提供文档说明，要么就禁止继承
  - 接口只用于定义类型
  - 类层次优于标签类
  - 用函数对象表示策略
  - 优先考虑静态成员类
- 第5章 泛型
  - 请不要在新代码中使用原生态类型
  - 消除非受检警告
  - 列表优先于数组
  - 优先考虑泛型
  - 优先考虑泛型方法
  - 利用有限制通配符来提升 API 的灵活性
  - 优先考虑类型安全的异构容器
- 第6章 枚举和注解
  - 用 enum 代替 int 常量
  - 用实例域代替序数
  - 用 EnumSet 代替位域
  - 用 EnumMap 代替序数索引
  - 用接口模拟可伸缩的枚举
  - 注解优先于命令模式
  - 坚持使用 Override 注解
  - 用标记接口定义类型
- 第7章 方法
  - 检查参数的有效性
  - 必要时进行保护性拷贝
  - 谨慎设计方法签名
  - 慎用重载
  - 慎用可变参数
  - 返回零长度的数据或者集合，而不是 null
  - 为所有导出的 API 元素编写文档注释
- 第8章 通用程序设计
  - 将局部变量的作用域最小化
  - for-each 循环优先于传统的 for 循环
  - 了解和使用类库
  - 如果需要精确的答案，请避免使用 float 和 double
  - 基本类型优先于装箱基本类型
  - 如果其他类型更适合，则尽量避免使用字符串
  - 当心字符串连接的性能
  - 通过接口引用对象
  - 接口优先于反射机制
  - 谨慎地使用本地方法
  - 谨慎地进行优化
  - 遵守普遍接受的命名惯例
- 第9章 异常
  - 只针对异常的情况才使用异常
  - 对可恢复的情况使用受检异常，对编程错误使用运行时异常
  - 避免不必要地使用受检的异常
  - 优先使用标准的异常
  - 抛出与抽象相对应的异常
  - 每个方法抛出的异常都要有文档
  - 在细节消息中包含能捕获失败的消息
  - 努力使失败保持原子性
  - 不要忽略异常
- 第10章 并发
  - 同步访问共享的可变数据
  - 避免过度同步
  - executor 和 task 优先于线程
  - 并发工具优先于 wait 和 notify
  - 线程安全性的文档化
  - 慎用延迟初始化
  - 不要依赖于线程调度器
  - 避免使用线程组
- 第11章 序列化
  - 谨慎地实现 Serializable 接口
  - 考虑使用自定义的序列化形式
  - 保护性地编写 readObject 方法
  - 对于实例控制，枚举类型优先于 readResolve
  - 考虑用序列化代理代替序列化实例

## 《Effective Java 中文版第3版》

对比 **《Effective Java 中文版第2版》** 书籍内容。

**新增：**

- 创建和销毁对象
  - 第3版 第5条：依赖注入优于硬连接资源（hardwiring resources）
  - 第3版 第9条：使用try-with-resources语句替代try-finally语句
- 类和接口
  - 第3版 第21条：为后代设计接口
  - 第3版 第24条：支持使用静态成员类而不是非静态类
  - 第3版 第25条：将源文件限制为单个顶级类
- 泛型
  - 第3版 第32条：合理地结合泛型和可变参数
- (新)Lambda和Stream
  - 第3版 第42条：lambda表达式优于匿名类
  - 第3版 第43条：方法引用优于lambda表达式
  - 第3版 第44条：优先使用标准的函数式接口
  - 第3版 第45条：明智审慎地使用Stream
  - 第3版 第46条：优先考虑流中无副作用的函数
  - 第3版 第47条：优先使用Collection而不是Stream来作为方法的返回类型
  - 第3版 第48条：谨慎使用流并行
- 方法
  - 第3版 第55条：明智审慎地返回Optional
- 序列化
  - 第3版 第85条：优先选择Java序列化的替代方案

**修改：**

- 第2版 第68条：executor 和 task 优先于线程  **-->** 第3版 第80条：executor、task 和 stream 优先于线程

**删除：**

- 第2版 第21条：用函数对象表示策略
- 第2版 第73条：避免使用线程组

## 资源

- [Effective Java 中文版第2版](/PDF/Effective-Java中文版-第2版.pdf)
- [Effective Java 中文版第3版](/PDF/Effective-Java中文版-第2版.pdf)
